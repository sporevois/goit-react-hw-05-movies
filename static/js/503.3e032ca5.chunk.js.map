{"version":3,"file":"static/js/503.3e032ca5.chunk.js","mappings":"wQAgCA,EA7BkB,SAAC,GAAyB,IAAvBA,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAC1B,GAA0BC,EAAAA,EAAAA,UAASF,GAAnC,eAAOG,EAAP,KAAcC,EAAd,KAaA,OACE,kBAAMH,SAZa,SAAAI,GACnBA,EAAMC,iBAEW,KAAjBH,EAAMI,OACFC,MAAM,0CACNP,EAASE,EACd,EAMC,WACE,kBACEM,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,KAAK,QACLb,MAAOG,EACPW,QAZc,SAAAT,GAClBD,EAASC,EAAMU,OAAOf,MAAMgB,cAC7B,KAYG,mBAAQP,KAAK,SAAb,sBAGL,E,SCsBD,EAhDe,WAAO,IAAD,EACnB,GAAsCP,EAAAA,EAAAA,UAAS,IAA/C,eAAOe,EAAP,KAAoBC,EAApB,KACA,GAA0BhB,EAAAA,EAAAA,UAAS,MAAnC,eAAOiB,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAW,UAAGJ,EAAaK,IAAI,gBAApB,QAAgC,IAEjDC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAIA,IAAMG,EAAgB,mCAAG,8GAEOC,EAAAA,EAAAA,IAAaJ,GAFpB,OAEfK,EAFe,OAGrBb,GAAe,OAAIa,IAHE,gDAKrBX,EAAS,KAAMY,SALM,2GAAH,qDAUtBH,GAZC,CAaF,GAAE,CAACH,EAAaJ,IASjB,OACE,iCACE,SAAC,EAAD,CAAWtB,MAAO0B,EAAazB,SATd,SAAAE,GACfuB,IAAgBvB,IAClBiB,EAAS,MACTG,EAA0B,KAAVpB,EAAe,CAAEA,MAAAA,GAAU,CAAC,GAE/C,IAKIgB,IAAS,eAAIc,MAAO,CAAEC,WAAY,QAAzB,SAAoCf,KAC9C,wBACGF,EAAYkB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OACf,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAMhB,GAAlC,SACGa,KAFID,EADM,QAUxB,C","sources":["components/SearchBox/SearchBox.jsx","pages/Movies.jsx"],"sourcesContent":["import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nconst SearchBox = ({ value, onSubmit }) => {\n  const [query, setQuery] = useState(value);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    query.trim() === ''\n      ? alert('Please enter something to searh querry')\n      : onSubmit(query);\n  };\n\n  const handleInput = event => {\n    setQuery(event.target.value.toLowerCase());\n  };\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        name=\"query\"\n        value={query}\n        onInput={handleInput}\n      />\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\nexport default SearchBox;\n\nSearchBox.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport SearchBox from 'components/SearchBox/SearchBox';\nimport { searchMovies } from 'services/api';\n\nconst Movies = () => {\n  const [foundMovies, setFoundMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const searchQuery = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n\n    const getMoviesByQuery = async () => {\n      try {\n        const searchResults = await searchMovies(searchQuery);\n        setFoundMovies([...searchResults]);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        return;\n      }\n    };\n    getMoviesByQuery();\n  }, [searchQuery, searchParams]);\n\n  const handleSubmit = query => {\n    if (searchQuery !== query) {\n      setError(null);\n      setSearchParams(query !== '' ? { query } : {});\n    }\n  };\n\n  return (\n    <>\n      <SearchBox value={searchQuery} onSubmit={handleSubmit} />\n      {error && <h3 style={{ marginLeft: '15px' }}>{error}</h3>}\n      <ul>\n        {foundMovies.map(({ id, original_title }) => (\n          <li key={id}>\n            <Link to={`${id}`} state={{ from: location }}>\n              {original_title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\nexport default Movies;\n"],"names":["value","onSubmit","useState","query","setQuery","event","preventDefault","trim","alert","type","autoComplete","autoFocus","placeholder","name","onInput","target","toLowerCase","foundMovies","setFoundMovies","error","setError","useSearchParams","searchParams","setSearchParams","location","useLocation","searchQuery","get","useEffect","getMoviesByQuery","searchMovies","searchResults","message","style","marginLeft","map","id","original_title","to","state","from"],"sourceRoot":""}